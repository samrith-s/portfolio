---
import { type CollectionEntry, getCollection } from "astro:content";
import BlogPost from "../../layouts/BlogPost.astro";

const { slug } = Astro.params;

const posts = await getCollection("blog");
const post = posts.find((post) => post.slug === slug)!;

type Props = CollectionEntry<"blog">;

const { Content, remarkPluginFrontmatter } = await post.render();

console.log("frontmatter:", remarkPluginFrontmatter);
---

<BlogPost {...post.data} readingTime={remarkPluginFrontmatter.minutesRead}>
  <Content />
</BlogPost>
