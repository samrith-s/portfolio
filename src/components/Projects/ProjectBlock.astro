---
import { cn } from "@/utils/cn";
import ExternalLink from "@/components/ExternalLink.astro";
import GitHubIcon from "@/components/Icons/GitHubIcon.astro";
import GlobeIcon from "../Icons/GlobeIcon.astro";

type Props = {
  name: string;
  description: string;
  tag: string;
} & (
  | {
      repo: string;
      site?: never;
    }
  | {
      site: string;
      repo?: never;
    }
);

const { name, description, repo, site, tag } = Astro.props;
---

<div
  class={cn(
    "grid",
    "grid-rows-[max-content,max-content,1fr,max-content]",
    "gap-2",
    "rounded-2xl",
    "w-full",
    "p-8",
    "relative",
    "bg-season-text/5",
  )}
>
  <span
    class="px-2 py-2 text-xs font-bold rounded-lg bg-season/5 justify-self-end"
    >{tag}</span
  >

  <div class="text-2xl font-bold">{name}</div>

  <p class="m-0">
    {description}
  </p>

  <div class="flex items-center gap-2 mt-4 self">
    <ExternalLink
      href={repo}
      class="inline-flex items-center justify-center gap-2 px-4 py-2 text-sm rounded-lg justify-self-stretch ignore bg-season-text/5"
    >
      {
        !!repo && (
          <>
            <GitHubIcon />
            GitHub
          </>
        )
      }

      {
        !!site && (
          <>
            <GlobeIcon />
            Website
          </>
        )
      }
    </ExternalLink>
  </div>
</div>
